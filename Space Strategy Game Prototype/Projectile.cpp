//***************************************************************************************************************************************************
//
// File Name: Projectile.cpp
//
// Description:
//  TODO: Add file description.
//
// Change History:
//  Author               Date           Description
//  Matthew D. Yorke     MM/DD/2018     TODO: Add description.
//
//***************************************************************************************************************************************************

#include "Projectile.h"

//***************************************************************************************************************************************************
// Start Public Method Definitions
//***************************************************************************************************************************************************

//***************************************************************************************************************************************************
//
// Method Name: Weapon
//
// Description:
//  Set the member variables for this class to default values.
//
//***************************************************************************************************************************************************
Projectile::Projectile(Graphics& theGraphics, std::string theImageFileName, int theCoordinateX, int theCoordinateY, float theAngle, ALLEGRO_DISPLAY* theDisplay, int theWidth, int theHeight)
{
   mpImage = new Sprite(theGraphics, theImageFileName, 0, 0, theWidth, theHeight);
   mCoordinateX = theCoordinateX;
   mCoordinateY = theCoordinateY;
   mAngle = theAngle;
   mpDisplay = theDisplay;
}

void Projectile::Update()
{
   mCoordinateX += sin(mAngle) * 3.0F;
   mCoordinateY += -cos(mAngle) * 3.0F;        
}

void Projectile::Draw(Graphics& theGraphics)
{
   al_convert_mask_to_alpha(mpImage->GetBitmap(), al_map_rgb(255, 0, 255));

   al_draw_rotated_bitmap(mpImage->GetBitmap(),
                          al_get_bitmap_width(mpImage->GetBitmap())/2,
                          al_get_bitmap_height(mpImage->GetBitmap())/2,
                          mCoordinateX,
                          mCoordinateY,
                          mAngle,
                          0);

   //mpImage->Draw(theGraphics, mCoordinateX, mCoordinateY);
}

//***************************************************************************************************************************************************
// End Public Method Definitions
//***************************************************************************************************************************************************

//***************************************************************************************************************************************************
// Start Protected Method Definitions
//***************************************************************************************************************************************************

// Note: There are no protected methods in this class.

//***************************************************************************************************************************************************
// End Protected Method Definitions
//***************************************************************************************************************************************************

//***************************************************************************************************************************************************
// Start Private Method Definitions
//***************************************************************************************************************************************************

// Note: There are no provate methods in this class.

//***************************************************************************************************************************************************
// End Private Method Definitions
//***************************************************************************************************************************************************